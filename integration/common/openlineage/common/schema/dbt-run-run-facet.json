{
  "$schema": "http://json-schema.org/schema#",
  "$id": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/integration/common/openlineage/common/schema/dbt-run-run-facet.json",
  "$defs": {
    "DbtRunRunFacet": {
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/OpenLineage/OpenLineage/main/spec/OpenLineage.json#/definitions/RunFacet"
        },
        {
          "type": "object",
          "properties": {
            "invocation_id": {
              "type": "str",
              "format": "uuid",
              "example": "e0c64ee8-2672-4c7a-92cc-2e27c2d4324f"
            },
            "project_name": {
              "type": "str",
              "example": "my_project"
            },
            "project_version": {
              "type": "str",
              "example": "0.20.1"
            },
            "profile_name": {
              "type": "str",
              "example": "default"
            },
            "dbt_runtime": {
              "type": "str",
              "example": "cloud"
            },
            "account_id": {
              "type": "str",
              "description": "dbt cloud account id",
              "example": "1234567890"
            }
          },
          "required": ["invocation_id"]
        }
      ],
      "type": "object"
    }
  },
  "type": "object",
  "properties": {
    "dbt_run": {
      "$ref": "#/$defs/DbtRunRunFacet"
    }
  }
}
